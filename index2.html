<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="CSS/estilos.css">
  <!--<script src="app.js"></script>  -->
</head>
<title>TP Integrador JavaScript</title>
</head>

<body>
  <!--Barra de Navegacion-->
  <header>
    <nav class="navbar bg-nav-gray text-light">
      <div>
        <img src="IMG/codoacodo.png" alt="CaC" style="width:30%;height:100%"><strong>Conf Bs As</strong></a>
      </div>
      <div class="navigationbar">
        <ul>
          <li><a href="" class="text-light text-opacity-50">La conferencia</a></li>
          <li><a href="" class="text-light text-opacity-50">Los oradores</a></li>
          <li><a href="" class="text-light text-opacity-50">El lugar y la fecha</a></li>
          <li><a href="" class="text-light">Conviértete en orador</a></li>
          <li><a href="" style="color: #96c93e">Comprar tickets</a></li>
        </ul>
      </div>
    </nav>
  </header>
<!--Seccion compra de tickets-->
  <main>
    <div class="row justify-content-center mt-4">
      <div class="container border border-primary text-center" style="width: 18rem; margin: 6px; padding-top: 16px;" >
        <div>
          <p class="h4 p-2">Estudiante</p>          
          <p class="p-2">Tienen un descuento</p> 
          <p><strong>80%</strong></p>
          <p class="text-secondary small">*Presentar documentacion</p>
        </div>
      </div>
      <div class="container border border-success text-center" style="width: 18rem; margin: 6px; padding-top: 16px;">
        <div>
          <p class="h4 p-2">Trainee</p>          
          <p class="p-2">Tienen un descuento</p> 
          <p><strong>50%</strong></p>
          <p class="text-secondary small">*Presentar documentacion</p>
        </div>
      </div>
      <div class="container border border-warning text-center" style="width: 18rem; margin: 6px; padding-top: 16px;">
        <div>
          <p class="h4 p-2">Junior</p>          
          <p class="p-2">Tienen un descuento</p> 
          <p><strong>15%</strong></p>
          <p class="text-secondary small">*Presentar documentacion</p>
        </div>
      </div>
    </div>
  
  <div class="text-center m-2">
    <h6>VENTA</h6>
    <h1>VALOR DE TICKET $200</h1>
  </div>
  
  <!--Formulario para completar datos y averiguar total a pagar-->
    <form action ="" id="form">
      <div class="row g-2 mt-2 mb-2 justify-content-center">
        <div class="col-4">
          <input type="text" name="nombre" id="nombre" class="form-control" placeholder="Nombre"></input>
        </div>
        <div class="col-4">
          <input type="text" name="apellido" id="apellido" class="form-control" placeholder="Apellido"></input>
        </div>
      </div> 
        
      <div class="row g-2 mt-2 mb-2 justify-content-center">
          <div class="col-8 mx-auto">
            <input type="email" name="email" id="email" class="form-control" placeholder="Correo" required></input>
          </div>
      </div>

      <div class="row g-2 mt-2 mb-2 justify-content-center">
          <div class="col-4">
            <label for="cantidad" class="text-left">Cantidad</label>
            <input type="text" name="cantidad" id="cantidad" value="" class="form-control" placeholder="cantidad" required></input>
          </div>
          <div class="col-4">
            <label for="categoria" class="text-left">Categoria</label>                    
            <select name="categoria" id="categoria" class="form-select" style="color:gray" name="categoria" required>
              <option value="estudiante">Estudiante</option>
              <option value="trainee">Trainee</option>
              <option value="junior">Junior</option>
            </select>
          </div>
      </div>

        <div class="row p-2 g-2 mt-4 mb-4 justify-content-center">
          <div class="col-8 p-3 bg-totalapagar">
            <p id="totalAPagar" name="totalAPagar">
            Total a pagar: $ </p>
          </div>
        </div>
      
        <div class="row g-2 m-2 justify-content-center">
          <button type="reset" class="col-4 g-1 m-1 btn btn-enviar text-light">Borrar</button>
          <button type="button" onclick="resumen()" class="col-4 g-1 m-1 btn btn-enviar text-light">Resumen</button>
        </div>

  </form>
  <br>
  </main>

  <script>
    function resumen(){
    //Muestro en consola cantidad de entradas a comprar
    let cant = document.getElementById('cantidad').value;
    console.log("Cantidad elegida: "+cant);
      
    //Muestro en consola categoria de entrada elegida 
    var cat = document.getElementById("categoria");
    cat.addEventListener("change",
    function(){
    var selectedOption = this.options[cat.selectedIndex];
    console.log('Categoria: ' + selectedOption.text);
    });

   //Calculo e imprimo por consola precio x entrada en funcion de opcion elegida
    var selected = document.querySelector("select");
    selected.addEventListener('change', (event)=>{
    var seleccionado = event.target.value; 
    
    //Muestro en consola precio por categoria
    let precioEst = 200*0.2;
    console.log ("Precio Estudiantes: $" + precioEst);
    let precioTra = 200*0.5;
    console.log ("Precio Trainees: $" + precioTra);
    let precioJun = 200*0.85;
    console.log ("Precio Juniors: $" + precioJun);
   
    //Muestro en consola precio x cantidad de entradas  
    let total = 0;
    if (seleccionado === 'estudiante'){
      console.log('Precio por entrada: $ '+200*0.2);
      total = (precioEst) * (cant);
      console.log("Total: $" + total)
    }
    else if (seleccionado === 'trainee'){
      console.log('Precio por entrada: $ '+200*0.5)
      ;
      total = parseInt(precioTra) * parseInt(cant);
      console.log("Total: $" + total)}
    else {
      console.log('Precio por entrada: $ '+200*0.85);
      total = parseInt(precioJun) * parseInt(cant);
      console.log("Total: $" + total)}     
      //Muestro en consola el total a pagar  
      console.log(total);    
      document.getElementById('totalAPagar').innerHTML = "Total a pagar: $" + total;      
  })
  }
  

  </script>


<!--Footer-->
  <footer class="container-fluid" id="grad">
    <ul class="nav justify-content-center p-2 g-1">
      <li>
        <a class="col p-2 text-center text-light" href="#">Preguntas Frecuentes</a>
      </li>
      <li>
        <a class="text-light" href="#">Contáctanos</a>
      </li>
      <li>
        <a class="text-light" href="#">Prensa</a>
      </li>
      <li>
        <a class="text-light" href="#">Conferencias</a>
      </li>
      <li>
        <a class="text-light" href="#">Términos y Condiciones</a>
      </li>
      <li>
        <a class="text-light" href="#">Privacidad</a>
      </li>
      <li>
        <a class="text-light" href="#">Estudiantes</a>
      </li>
    </ul>
  </footer>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
 <!--<script src="app.js"></script>  --> 

</body>
</html>
